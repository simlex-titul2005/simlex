var SxComments=function(){function e(e,n,t){this._comments=$(e),this._form=this._comments.find(".sx-new-comment"),this._postUrl=n,this._target=$(t)}return e.prototype.initialize=function(){var e=this;this._comments.on("click",".comment__reply > a",function(n){n.preventDefault();var t=$(n.currentTarget),m=t.closest(".sx-comment"),o=m.find(".sx-new-comment").length>0;if(!o){var c=e._form.clone();c.hide().appendTo(m).fadeIn(.1,function(){var n=m.attr("id").replace("sx-comment-","");$('<input type="hidden" name="CommentId" value="'+n+'" />').appendTo(c.find("form")),e._comments.find(".sx-comment").not('[id="sx-comment-'+n+'"]').find(".sx-new-comment").remove(),m.find(".sx-comments__cancel-reply").show(),e._form.hide()})}}),this._comments.on("click",".sx-comments__cancel-reply",function(n){n.preventDefault(),e._comments.find(".sx-comment .sx-new-comment").remove(),e._form.show()}),this._comments.on("submit",".sx-new-comment form",function(n){n.preventDefault();var t=$(n.currentTarget);$.ajax({method:"post",url:e._postUrl,data:t.serialize(),success:function(n,t,m){e._target.html(n)}})})},e}();